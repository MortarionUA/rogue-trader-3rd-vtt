<div class="rt-panel rt-grid-col-2 rt-grid-row-1">
    <h1 class="rt-panel__header">Corruption</h1>
    <div class="rt-field__wrapper">
        <span class="rt-field__header">Corruption Points</span>
        <input class="rt-field__input" data-dtype="Number" type="number" name="system.corruption"
               value="{{actor.corruption}}" />
    </div>
    <div class="rt-table--border rt-corruptiontable--border">
        <div class="table-row--head">
            <div class="table-cell--span2">Malignancies</div>
            <div class="table-cell--last">
                <label class="rt-control-button item-create" data-type="malignancy">
                    <span class="rt-control-button__span material-icons">{{defaultVal icon 'add_circle'}}</span>
                </label>
            </div>
        </div>
        {{#each actor.items as | item |}}
            {{#if item.isMalignancy}}
                <div class="table-row">
                    <div class="table-cell--settingstoggle">
                        <label class="rt-control-button item-edit" data-item-id="{{item.id}}">
                            <span class="rt-control-button__span material-icons">{{defaultVal icon 'settings'}}</span>
                        </label>
                    </div>
                    <div class="table-cell">
                        {{> systems/rogue-trader-3rd/templates/actor/partial/trait-toggle.hbs toggle=(concat 'description_' item.id) text=item.name}}
                    </div>
                    <div class="table-cell">
                        <label class="rt-control-button item-delete" data-item-id="{{item.id}}">
                            <span class="rt-control-button__span material-icons">{{defaultVal icon 'delete'}}</span>
                        </label>
                    </div>
                    <div class="table-cell--description description_{{item.id}}" {{hideIfNot
                        (isExpanded (concat 'description_' item.id ))}}>
                        <span>{{item.system.description}}</span>
                    </div>
                </div>
            {{/if}}
        {{/each}}
        <div class="table-row--head">
            <div class="table-cell--span2">Mutations</div>
            <div class="table-cell--last">
                <label class="rt-control-button item-create" data-type="mutation">
                    <span class="rt-control-button__span material-icons">{{defaultVal icon 'add_circle'}}</span>
                </label>
            </div>
        </div>
        {{#each actor.items as | item |}}
            {{#if item.isMutation}}
                <div class="table-row">
                    <div class="table-cell--settingstoggle">
                        <label class="rt-control-button item-edit" data-item-id="{{item.id}}">
                            <span class="rt-control-button__span material-icons">{{defaultVal icon 'settings'}}</span>
                        </label>
                    </div>
                    <div class="table-cell">
                        {{> systems/rogue-trader-3rd/templates/actor/partial/trait-toggle.hbs toggle=(concat 'description_' item.id) text=item.name}}
                    </div>
                    <div class="table-cell">
                        <label class="rt-control-button item-delete" data-item-id="{{item.id}}">
                            <span class="rt-control-button__span material-icons">{{defaultVal icon 'delete'}}</span>
                        </label>
                    </div>
                    <div class="table-cell--description description_{{item.id}}" {{hideIfNot
                        (isExpanded (concat 'description_' item.id ))}}>
                        <span>{{item.system.description}}</span>
                    </div>
                </div>
            {{/if}}
        {{/each}}
    </div>
</div>
